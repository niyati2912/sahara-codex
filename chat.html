<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Chat - SAHARA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
<style>
:root {
--bg-start: #e0f7fa;
--bg-end: #e8f5e9;
--primary: #00796b;
--primary-light: #4db6ac;
--radius: 1rem;
--shadow: 0 12px 40px rgba(0,121,107,0.08);
--transition: .3s cubic-bezier(.25,.8,.25,1);
--muted: #6f7d8c;
--incoming-bg: #ffffff;
--outgoing-bg: #d0f0ed;
font-family: 'Poppins', sans-serif;
}
* { box-sizing:border-box; }
body {
margin: 0;
background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
min-height: 100vh;
display: flex;
color: #2f4f5f;
}
.sidebar {
width: 250px;
background: linear-gradient(135deg, var(--primary) 60%, var(--primary-light) 100%);
color: white;
padding: 2rem 1rem;
display: flex;
flex-direction: column;
gap: 1.25rem;
box-shadow: 2px 0 16px rgba(0,121,107,0.16);
}
.sidebar a {
color: white;
text-decoration: none;
font-weight: 600;
font-size: 1rem;
padding: .75rem 1rem;
border-radius: 8px;
transition: var(--transition);
display: block;
}
.sidebar a.active, .sidebar a:hover {
background: rgba(255,255,255,0.12);
transform: translateX(4px);
}
.main {
flex: 1;
padding: 2.5rem 3rem;
display: flex;
flex-direction: column;
gap: 1rem;
position: relative;
}
.header {
display: flex;
align-items: center;
gap: 16px;
margin-bottom: 4px;
}
.title {
font-size: 2rem;
font-weight: 700;
color: var(--primary);
margin: 0;
flex: 1;
}
.sub {
font-size: 0.9rem;
color: var(--muted);
margin-top: 2px;
}
.chat-container {
flex: 1;
position: relative;
display: flex;
flex-direction: column;
max-width: 700px;
width: 100%;
margin: 0 auto;
}
.chat-box {
background: #fff;
border-radius: 1.2rem;
box-shadow: var(--shadow);
padding: 1rem 1rem 0;
flex: 1;
overflow-y: auto;
display: flex;
flex-direction: column;
gap: 12px;
position: relative;
padding-bottom: 80px; /* space for input */
}
.message {
display: flex;
gap: 12px;
max-width: 85%;
position: relative;
font-size: .95rem;
line-height: 1.3;
}
.incoming {
align-self: flex-start;
}
.outgoing {
align-self: flex-end;
flex-direction: row-reverse;
}
.bubble {
background: var(--incoming-bg);
padding: 12px 16px;
border-radius: 16px;
position: relative;
box-shadow: 0 8px 24px rgba(0,0,0,0.03);
font-weight: 500;
}
.outgoing .bubble {
background: var(--outgoing-bg);
}
.meta {
font-size: 0.65rem;
color: #999;
margin-top: 4px;
}
.avatar {
width: 36px;
height: 36px;
border-radius: 50%;
flex-shrink: 0;
background: var(--primary);
display: flex;
align-items: center;
justify-content: center;
color: white;
font-weight: 600;
font-size: 0.75rem;
position: relative;
}
.typing-indicator {
display: flex;
gap: 8px;
align-items: center;
font-size: 0.75rem;
margin-top: 4px;
}
.dots {
display: flex;
gap: 4px;
}
.dot {
width: 8px;
height: 8px;
background: var(--primary);
border-radius: 50%;
opacity: 0.4;
animation: blink 1.2s infinite ease-in-out;
}
.dot:nth-child(2) { animation-delay: 0.2s; }
.dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes blink {
0%,100% { opacity: 0.4; transform: translateY(0); }
50% { opacity: 1; transform: translateY(-3px); }
}

.input-area {
position: absolute;
bottom: 0;
left: 0;
right: 0;
padding: 10px 0 10px;
display: flex;
justify-content: center;
pointer-events: none;
}
.input-wrapper {
background: white;
padding: 12px 16px;
border-radius: 999px;
display: flex;
gap: 12px;
width: 100%;
max-width: 700px;
box-shadow: 0 20px 50px rgba(0,121,107,0.08);
align-items: center;
position: relative;
pointer-events: all;
}
.chat-input {
flex: 1;
border: none;
padding: 10px 14px;
border-radius: 50px;
font-size: 1rem;
background: #f2f9f7;
outline: none;
resize: none;
min-height: 44px;
max-height: 120px;
line-height: 1.3;
font-family: inherit;
}
.send-btn {
background: linear-gradient(135deg, var(--primary), var(--primary-light));
border: none;
color: white;
font-weight: 600;
padding: 12px 20px;
border-radius: 50px;
cursor: pointer;
display: flex;
align-items: center;
gap: 6px;
position: relative;
overflow: hidden;
transition: var(--transition);
font-size: 0.9rem;
box-shadow: 0 12px 32px rgba(0,121,107,0.3);
}
.send-btn:hover {
transform: translateY(-1px);
filter: brightness(1.05);
}
.send-btn:active {
transform: scale(.97);
}
.pill {
background: rgba(0,121,107,.1);
padding: 4px 12px;
border-radius: 999px;
font-size: 0.65rem;
color: var(--primary);
margin-left: 6px;
display: inline-block;
}
/* scrollbar */
.chat-box::-webkit-scrollbar {
width: 10px;
}
.chat-box::-webkit-scrollbar-track {
background: #f0f4f7;
border-radius: 5px;
}
.chat-box::-webkit-scrollbar-thumb {
background: rgba(0,121,107,0.4);
border-radius: 5px;
}
.fade-in {
animation: fadeUp .5s ease-out;
}
@keyframes fadeUp {
from { opacity: 0; transform: translateY(8px);}
to { opacity:1; transform: translateY(0);}
}
</style>
</head>
<body>
<div class="sidebar">
<a href="home.html">Home</a>
<a href="chat.html" class="active">Chat</a>
<a href="profile.html">Profile</a>
<a href="helpers.html">Helpers</a>
<a href="karma.html">Karma</a>
</div>
<div class="main">
<div class="header">
    <div>
    <h1 class="title">Support Chat</h1>
    <div class="sub">You're connected. Ask anything or request help.</div>
    </div>
    <div class="pill">Online</div>
</div>

<div class="chat-container" aria-label="Chat interface">
    <div class="chat-box" id="chatBox" aria-live="polite" role="log">
    <!-- incoming message -->
    <div class="message incoming fade-in">
        <div class="avatar" aria-hidden="true">S</div>
        <div>
        <div class="bubble">
            Hi! How can I assist you today?
        </div>
        <div class="meta">Helper · 10:02 AM</div>
        </div>
    </div>
    <!-- outgoing message -->
    <div class="message outgoing fade-in">
        <div class="avatar" aria-hidden="true">U</div>
        <div>
        <div class="bubble">
            I need help with locating nearby assistance.
        </div>
        <div class="meta">You · 10:03 AM</div>
        </div>
    </div>
    <!-- typing indicator -->
    <div class="message incoming" id="typingIndicator" aria-label="Helper is typing">
        <div class="avatar" aria-hidden="true">S</div>
        <div>
        <div class="bubble" style="padding:10px 14px; display:flex; align-items:center; gap:8px;">
            <div class="dots" aria-hidden="true">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            </div>
            <div style="margin-left:4px;">Helper is typing...</div>
        </div>
        </div>
    </div>
    </div>

    <div class="input-area">
    <form id="messageForm" class="input-wrapper" aria-label="Send message form">
        <input id="msgInput" class="chat-input" type="text" placeholder="Type your message..." aria-label="Message input" required autocomplete="off" />
        <button type="submit" class="send-btn" aria-label="Send message">
        <span>Send</span>
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
            <path d="M3.4 20.6l17.2-8.6L3.4 3.4v6.2l11.3 2.4-11.3 2.4v6.2z"/>
        </svg>
        </button>
    </form>
    </div>
</div>
</div>

<script>
const chatBox = document.getElementById('chatBox');
const form = document.getElementById('messageForm');
const input = document.getElementById('msgInput');
const typingIndicator = document.getElementById('typingIndicator');

function appendMessage({ text, who = 'incoming', name = '', time = '' }) {
const wrapper = document.createElement('div');
wrapper.className = `message ${who} fade-in`;
const avatar = document.createElement('div');
avatar.className = 'avatar';
avatar.textContent = who === 'incoming' ? 'S' : 'U';

const content = document.createElement('div');
const bubble = document.createElement('div');
bubble.className = 'bubble';
bubble.textContent = text;

const meta = document.createElement('div');
meta.className = 'meta';
const label = who === 'incoming' ? (name || 'Helper') : 'You';
const now = time || new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
meta.textContent = `${label} · ${now}`;

content.appendChild(bubble);
content.appendChild(meta);
wrapper.appendChild(avatar);
wrapper.appendChild(content);
chatBox.insertBefore(wrapper, typingIndicator);
scrollToBottom();
}

function scrollToBottom() {
chatBox.scrollTop = chatBox.scrollHeight + 50;
}

form.addEventListener('submit', (e) => {
e.preventDefault();
const val = input.value.trim();
if (!val) return;
appendMessage({ text: val, who: 'outgoing' });
input.value = '';
showTypingThenReply();
});

function showTypingThenReply() {
typingIndicator.style.display = 'flex';
setTimeout(() => {
    typingIndicator.style.display = 'none';
    appendMessage({ text: 'Sure, I can help you with that. Where are you located?', who: 'incoming' });
}, 1500);
}

// initial scroll
window.onload = () => {
scrollToBottom();
// hide typing after some time for demo
setTimeout(() => { typingIndicator.style.display = 'none'; }, 1200);
};
</script>
</body>
</html>
